<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/atom_mounted - Космическая Стацния 13</title></head><body><header><a href="index.html">Космическая Стацния 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/atom_mounted.html#var">Var Details</a> - <a href="datum/component/atom_mounted.html#proc">Proc Details</a></header><main><h1>atom_mounted <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/atom_mounted.html">atom_mounted</a></aside> <a href="https://github.com/Reworkin/Andromeda-13/blob/96f45f34d746353c04864839e072695401b83c1e/code/datums/components/atom_mounted.dm#L2"><img src="git.png" width="16" height="16" title="code/datums/components/atom_mounted.dm 2"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/atom_mounted.html#var/hanging_support_atom">hanging_support_atom</a></th><td>The closed turf our object is currently linked to.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/atom_mounted.html#proc/drop_wallmount">drop_wallmount</a></th><td>Handles the dropping of the linked object. This is done via deconstruction, as that should be the most sane way to handle it for most objects.
Except for intercoms, which are handled by creating a new wallframe intercom, as they're apparently items.</td></tr><tr><th><a href="datum/component/atom_mounted.html#proc/on_move">on_move</a></th><td>If we get dragged from our wall (by a singulo for instance) we should deconstruct</td></tr><tr><th><a href="datum/component/atom_mounted.html#proc/on_turf_changing">on_turf_changing</a></th><td>When the wall is examined, explains that it's supporting the linked object.
TODO: Rewokin: это функция, что отписывала закреплённые предметы на стене, но система перевода на хую вертела эту функцию.
Нужно сделать, чтоб работало или удалить. Так же строчка, что в верхнем блоке кода.
RegisterSignal(hanging_support_atom, COMSIG_ATOM_EXAMINE, PROC_REF(on_examine))</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/hanging_support_atom"><aside class="declaration">var </aside>hanging_support_atom <aside>– /<a href="atom.html">atom</a></aside> <a href="https://github.com/Reworkin/Andromeda-13/blob/96f45f34d746353c04864839e072695401b83c1e/code/datums/components/atom_mounted.dm#L4"><img src="git.png" width="16" height="16" title="code/datums/components/atom_mounted.dm 4"></a></h3><p>The closed turf our object is currently linked to.</p><h2 id="proc">Proc Details</h2><h3 id="proc/drop_wallmount"><aside class="declaration">proc </aside>drop_wallmount<aside>()  <a href="https://github.com/Reworkin/Andromeda-13/blob/96f45f34d746353c04864839e072695401b83c1e/code/datums/components/atom_mounted.dm#L74"><img src="git.png" width="16" height="16" title="code/datums/components/atom_mounted.dm 74"></a></aside></h3><p>Handles the dropping of the linked object. This is done via deconstruction, as that should be the most sane way to handle it for most objects.
Except for intercoms, which are handled by creating a new wallframe intercom, as they're apparently items.</p><h3 id="proc/on_move"><aside class="declaration">proc </aside>on_move<aside>(/<a href="datum.html">datum</a>/source, /<a href="atom.html">atom</a>/old_loc, dir, forced, /list/old_locs)  <a href="https://github.com/Reworkin/Andromeda-13/blob/96f45f34d746353c04864839e072695401b83c1e/code/datums/components/atom_mounted.dm#L62"><img src="git.png" width="16" height="16" title="code/datums/components/atom_mounted.dm 62"></a></aside></h3><p>If we get dragged from our wall (by a singulo for instance) we should deconstruct</p><h3 id="proc/on_turf_changing"><aside class="declaration">proc </aside>on_turf_changing<aside>(/<a href="datum.html">datum</a>/source, path, new_baseturfs, flags, post_change_callbacks)  <a href="https://github.com/Reworkin/Andromeda-13/blob/96f45f34d746353c04864839e072695401b83c1e/code/datums/components/atom_mounted.dm#L50"><img src="git.png" width="16" height="16" title="code/datums/components/atom_mounted.dm 50"></a></aside></h3><p>When the wall is examined, explains that it's supporting the linked object.
TODO: Rewokin: это функция, что отписывала закреплённые предметы на стене, но система перевода на хую вертела эту функцию.
Нужно сделать, чтоб работало или удалить. Так же строчка, что в верхнем блоке кода.
RegisterSignal(hanging_support_atom, COMSIG_ATOM_EXAMINE, PROC_REF(on_examine))</p>
<p>/datum/component/atom_mounted/proc/on_examine(datum/source, mob/user, list/examine_list)
SIGNAL_HANDLER</p>
<pre><code>if (parent in view(user.client?.view || world.view, user))
	examine_list += span_notice(&quot;\The [hanging_support_atom] is currently supporting [span_bold(&quot;[parent]&quot;)]. Deconstruction or excessive damage would cause it to [span_bold(&quot;fall to the ground&quot;)].&quot;)
</code></pre>
<p>When the type of turf changes, if it is changing into a floor we should drop our contents</p></main><footer>tgstation.dme <a href="https://github.com/Reworkin/Andromeda-13/tree/96f45f34d746353c04864839e072695401b83c1e">96f45f3</a> (main) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>